
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Portfolio | Francesco Zonaro</title>
  <meta name="description" content="">
  <meta name="author" content="Francesco Zonaro">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../../css/normalize.css">
  <link rel="stylesheet" href="../../css/skeleton.css">
  <link rel="stylesheet" href="../../css/main.css">

  <!-- External stuff -->

  <script src="https://code.jquery.com/jquery-3.6.4.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

</head>
<body>
    <div class="container" style="min-width: 1350px">
        
        <div class="twelve columns" style="text-align: center; margin-bottom: 15px;">
            <a href="../predictions/predictionsLanding.html" style="color: inherit; text-decoration: none;">Home</a>
        </div>

        <div class="header" style="margin-top: 25px;"><!-- one-half column-->
            <h1><strong>Premier League</strong> GW<span id="displayGw"></span></h1>
        </div>

        <div class="predictions" style="justify-content: center; margin-top: 40px;">
        </div>

        <div class="brierscoreaverage" style="display: absolute; float: right; margin-right: 150px;">
          Average Brier Scores of this GW â¤´&#xFE0E;
        </div>

        <div class="legend-container" style="text-align: center;">
          <strong>Legend</strong>
          <div class="legend" style="margin-top: 10px;">
            <div>TBP: To Be Played</div>
          </div>
        </div>

  </div>
</body>
</html>

<script>
  function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
  }

  var gw = getParameterByName('gw');
  document.getElementById("displayGw").innerHTML = gw;

  var dataurl = 'publish/data/ENG-GW' + gw + '.csv'

  function arrayToTable(tableData) {
        var table = $('<table></table>');
        $(tableData).each(function (i, rowData) {
            var row = $('<tr></tr>');
            $(rowData).each(function (j, cellData) {
                row.append($('<td>'+cellData+'</td>'));
            });
            table.append(row);
        });
        
        return table;
  }

  $.ajax({
    type: "GET",
    url: dataurl,
    success: function(data) {
      $('.predictions').append(arrayToTable(Papa.parse(data,  {skipEmptyLines: true,}).data));
    }
  });

</script>